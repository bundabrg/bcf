
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Bundabrg">
      
      
        <link rel="canonical" href="https://github.com/Bundabrg/bcf/">
      
      <link rel="icon" href="img/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.2">
    
    
      
        <title>bcf</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="css/timeago.css">
    
      <link rel="stylesheet" href="css/mkpdf.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#what-is-bcf" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="bcf" class="md-header__button md-logo" aria-label="bcf" data-md-component="logo">
      
  <img src="img/header_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bcf
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Bundabrg/bcf" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Bundabrg/bcf
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="bcf" class="md-nav__button md-logo" aria-label="bcf" data-md-component="logo">
      
  <img src="img/header_logo.png" alt="logo">

    </a>
    bcf
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Bundabrg/bcf" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Bundabrg/bcf
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Introduction
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-bcf" class="md-nav__link">
    What is bcf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="howitworks/" class="md-nav__link">
        How it works
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="annotations/" class="md-nav__link">
        Annotations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="parsers/" class="md-nav__link">
        Parsers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-bcf" class="md-nav__link">
    What is bcf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Introduction</h1>

<p><img alt="Logo" src="img/title.png" /></p>
<h2 id="what-is-bcf">What is bcf<a class="headerlink" href="#what-is-bcf" title="Permanent link">&para;</a></h2>
<p><code>bcf</code> is a Command Management tool suitable for use in Bukkit/Spigot/PaperMC and Bungeecord, though it may support other platforms 
in the near future.</p>
<p>It allows one to easily provide full command completion for all your commands as
well as automatically resolve and marshal input from the user so your command
gets the data it is expecting to get. For example if your command is expecting a player
name then available players will be provided during command completion and your command 
method will receive the actual player object, or the command sender will receive an error
explaining what the error is.</p>
<p>This library is inspired by aikar's <a href="https://github.com/aikar/commands">Annotation Command Framework (ACF)</a> which used
before I decided on the crazy idea of writing my own to support some extra
features I felt I desperately needed for some reason. The name <code>bcf</code> is used in recognition of that.</p>
<h2 id="features">Features<a class="headerlink" href="#features" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Define your commands by simply extending a BaseCommand derived class (like <code>BukkitCommand</code>) and annotating it with
  a <code>@Command</code> to define it, with any aliases separated by a <code>|</code>.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@Command</span><span class="p">(</span><span class="s">&quot;mycmd|my|m&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyCommand</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BukkitCommand</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
All of <code>/mycmd</code>, <code>/my</code>, <code>/m</code> are valid commands with the latter 2 designated as aliases.</p>
</div>
</li>
<li>
<p>Register the class with the manager. For example in a Bukkit/Spigot/Paper based plugin you would use <code>BukkitManager</code></p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyPlugin</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">JavaPlugin</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onEnable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">BukkitCommandManager</span><span class="w"> </span><span class="n">bcf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BukkitCommandManager</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">bcf</span><span class="p">.</span><span class="na">registerCommand</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MyCommand</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</li>
<li>
<p>Annotate your method with <code>@Arg</code> to define what arguments it is expecting. This is a string of arguments that may
  consume 0 or more words from a users input both to provide command completion and to fully resolve and pass
  objects to the method.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;give|g @player(required=true, default=%self, mode=online)&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onGive</span><span class="p">(</span><span class="n">CommandSender</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</li>
<li>
<p>Multiple annotations can be used and each will be checked in turn.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;give|g @player(required=true, default=%self, mode=online)&quot;</span><span class="p">)</span><span class="w"></span>
<span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;sudo give @player(required=true, default=%self, mode=online)&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onGive</span><span class="p">(</span><span class="n">CommandSender</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</li>
<li>
<p>Nearly all annotations can be added to your class to apply to all methods (and child classes). </p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@Command</span><span class="p">(</span><span class="s">&quot;do&quot;</span><span class="p">)</span><span class="w"></span>
<span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;for @player(required=true, mode=offline)&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">class</span> <span class="nc">MyCommand</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BukkitCommand</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;tpto @world&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doThis</span><span class="p">(</span><span class="n">CommandSender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">World</span><span class="w"> </span><span class="n">world</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">...</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
To reach doThis the command is: <code>/do for &lt;playername&gt; tpto &lt;worldname&gt;</code></p>
</div>
</li>
<li>
<p>Your class can add itself as a child of another command class to inherit any of its settings. For example a 3<sup>rd</sup> party
  plugin could extend your command class to add sub-commands under your own. This is done by registering the sub-class
  with the manager with the <code>registerSubCommand</code> method.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;sudo&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">class</span> <span class="nc">MySubCommand</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BukkitCommand</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;kill&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">killPlayer</span><span class="p">(</span><span class="n">CommandSender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="p">...</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AnotherPlugin</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">JavaPlugin</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onEnable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="n">BukkitCommandManager</span><span class="w"> </span><span class="n">bcf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BukkitCommandManager</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="n">bcf</span><span class="p">.</span><span class="na">registerSubCommand</span><span class="p">(</span><span class="n">MyCommand</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MySubCommand</span><span class="p">());</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
To execute killPlayer the full command now is: <code>/do for &lt;playername&gt; sudo kill</code></p>
</div>
</li>
<li>
<p>Create command aliases by adding a <code>@Command</code> annotation to a derived class. This allows shortcut commands to jump
straight to a class. For example instead of <code>/command view playername</code> you can have <code>/cv playername</code>
as an alias</p>
</li>
<li>
<p>When a command needs to send an error (for example a parameter is not valid) the class will look for a method
annotated with <code>@Error</code>.  If it fails to find one it will check all its parent classes until it reaches the default. This
allows you to override how errors are handled.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;sudo&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">class</span> <span class="nc">MySubCommand</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MyCommand</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nd">@Error</span><span class="w"></span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">onError</span><span class="p">(</span><span class="n">CommandSender</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">sender</span><span class="p">.</span><span class="na">spigot</span><span class="p">().</span><span class="na">sendMessage</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">ComponentBuilder</span><span class="p">(</span><span class="n">message</span><span class="p">).</span><span class="na">color</span><span class="p">(</span><span class="n">ChatColor</span><span class="p">.</span><span class="na">GREEN</span><span class="p">).</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
Will show error in green when it occurs under the <code>sudo</code> subcommand otherwise will show the default
red.</p>
</div>
</li>
<li>
<p>When no command is reached a method annotated with <code>@Default</code> is looked for to handle things.  If no method is found
then every parent class is checked until it reaches the default which outputs "Invalid Command".  This can be used to
provide more help.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;sudo&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">class</span> <span class="nc">MySubCommand</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MyCommand</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nd">@Default</span><span class="w"></span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDefault</span><span class="p">(</span><span class="n">CommandSender</span><span class="w"> </span><span class="n">sender</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">sender</span><span class="p">.</span><span class="na">spigot</span><span class="p">().</span><span class="na">sendMessage</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">ComponentBuilder</span><span class="p">(</span><span class="s">&quot;A totally unhelpful message.&quot;</span><span class="p">).</span><span class="na">color</span><span class="p">(</span><span class="n">ChatColor</span><span class="p">.</span><span class="na">YELLOW</span><span class="p">).</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
Will show "A totally unhelpful message" if no method is matched in this class (or its children), otherwise it
will show the default message.</p>
</div>
</li>
<li>
<p>Add permission requirements by annotating your class or methods with <code>@Permission</code>. The command sender must either be
console or have at least one of the permissions at each level to proceed otherwise both command completion and execution
will be ignored as if the arguments did not exist.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@Permission</span><span class="p">(</span><span class="s">&quot;mycmd.admin&quot;</span><span class="p">)</span><span class="w"></span>
<span class="nd">@Permission</span><span class="p">(</span><span class="s">&quot;mycmd.command.sudo&quot;</span><span class="p">)</span><span class="w"></span>
<span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;sudo&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">class</span> <span class="nc">MySubCommand</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MyCommand</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="nd">@Permission</span><span class="p">(</span><span class="s">&quot;mycmd.admin&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;kill&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">killPlayer</span><span class="p">(</span><span class="n">CommandSender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="p">...</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;tickle&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ticklePlayer</span><span class="p">(</span><span class="n">CommandSender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="p">...</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
The command sender neds to have <code>mycmd.admin</code> to be able to use either the <code>kill</code> or <code>tickle</code> subcommands. They
need either <code>mycmd.admin</code> or <code>mycmd.command.sudo</code> to access the <code>tickle</code> command. Classes extending this
one will respect the Permissons on their parent class.</p>
</div>
</li>
<li>
<p>Support both required and optional positional parameters.  A required parameter must either have a default or
must have valid input provided. Optional parameters with no default and no input will be set to null.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;cmd1 @player(required=false)&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">cmd1</span><span class="p">(</span><span class="n">CommandSender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;cmd2 @player(required=true, default=%self, mode=offline)&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">cmd2</span><span class="p">(</span><span class="n">CommandSender</span><span class="p">,</span><span class="w"> </span><span class="n">OfflinePlayer</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<code>cmd1</code> does not require a player which will resolve to null if no input provided. <code>cmd2</code> requires a player
name but if none is provided then the value <code>%self</code> is provided which will resolve to the command sender if
they are a player or return an error if not.</p>
</div>
</li>
<li>
<p>As well as supporting positional parameters we support named parameters called <code>switches</code>.  To pass a switch the 
command sender uses <code>-&lt;switchname&gt; &lt;value(s)&gt;</code> and full command completion is provided.  A switch becomes available in the
chain of arguments once it is reached and it can have multiple aliases.  A non required switch with no default value
will be resolved to null. A required switch must be resolved by input sometime after the point it is defined otherwise
the command will be rejected.  Designating a switch parameter means it is no longer treated as positional.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;transfer @int(min=1,max=3) @player(switch=&#39;from|f&#39;) @player(switch=&#39;to|t&#39;) @item&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doTransfer</span><span class="p">(</span><span class="n">CommandSender</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">Player</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">Itemstack</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
Valid commands would be:</p>
<ul>
<li><code>/mycmd transfer 3 -from Player1 -to Player2 diamond_sword</code></li>
<li><code>/mycmd transfer 3 diamond_sword -t Player2 -f Player1</code></li>
</ul>
<p>This would not be valid:</p>
<ul>
<li><code>/mycmd transfer -from Player1 -to Player2 3 diamond_sword</code></li>
</ul>
</div>
</li>
</ul>
<h2 id="quickstart">Quickstart<a class="headerlink" href="#quickstart" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Add the following Maven repository to your <code>pom.xml</code>
    <div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- Bundabrg&#39;s Repo --&gt;</span>
<span class="nt">&lt;repository&gt;</span>
    <span class="nt">&lt;id&gt;</span>bundabrg-repo<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;url&gt;</span>https://repo.worldguard.com.au/repository/maven-public<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;releases&gt;</span>
        <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>
    <span class="nt">&lt;/releases&gt;</span>
    <span class="nt">&lt;snapshots&gt;</span>
        <span class="nt">&lt;enabled&gt;</span>false<span class="nt">&lt;/enabled&gt;</span>
    <span class="nt">&lt;/snapshots&gt;</span>
<span class="nt">&lt;/repository&gt;</span>   
</code></pre></div></p>
</li>
<li>
<p>Add the following dependency to your <code>pom.xml</code>
    <div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>au.com.grieve.bcf<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>bukkit<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.2.9<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don't forget to check what the latest verison is as these documents may be out of date.</p>
</div>
</li>
<li>
<p>Shade the library into your own code by adding in your <code>pom.xml</code></p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>maven-shade-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>3.2.3<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;executions&gt;</span>
                <span class="nt">&lt;execution&gt;</span>
                    <span class="nt">&lt;phase&gt;</span>package<span class="nt">&lt;/phase&gt;</span>
                    <span class="nt">&lt;goals&gt;</span>
                       <span class="nt">&lt;goal&gt;</span>shade<span class="nt">&lt;/goal&gt;</span>
                    <span class="nt">&lt;/goals&gt;</span>
                <span class="nt">&lt;/execution&gt;</span>
            <span class="nt">&lt;/executions&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="nt">&lt;relocations&gt;</span>
                    <span class="nt">&lt;relocation&gt;</span>
                        <span class="nt">&lt;pattern&gt;</span>au.com.grieve.bcf<span class="nt">&lt;/pattern&gt;</span>
                        <span class="nt">&lt;shadedPattern&gt;</span>${project.groupId}.${project.artifactId}.bcf<span class="nt">&lt;/shadedPattern&gt;</span>
                    <span class="nt">&lt;/relocation&gt;</span>
                <span class="nt">&lt;/relocations&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/build&gt;</span>
</code></pre></div>
</li>
<li>
<p>Create a command class that extends BukkitCommand</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Command</span><span class="p">(</span><span class="s">&quot;mycmd&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainCommand</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BukkitCommand</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="nd">@Arg</span><span class="p">(</span><span class="s">&quot;list&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doList</span><span class="p">(</span><span class="n">CommandSender</span><span class="w"> </span><span class="n">sender</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">sender</span><span class="p">.</span><span class="na">spigot</span><span class="p">().</span><span class="na">sendMessage</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">ComponentBuilder</span><span class="p">(</span><span class="s">&quot;Reached List&quot;</span><span class="p">).</span><span class="na">color</span><span class="p">(</span><span class="n">ChatColor</span><span class="p">.</span><span class="na">GREEN</span><span class="p">).</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>Create a new CommandManager in your plugin, passing your plugin as a parameter and register your commandclass.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Setup Command Manager</span><span class="w"></span>
<span class="n">bcf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BukkitCommandManager</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Register Commands</span><span class="w"></span>
<span class="n">bcf</span><span class="p">.</span><span class="na">registerCommand</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MainCommand</span><span class="p">());</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>You should now be able to use <code>/mycmd list</code> in-game.</p>
</li>
</ol>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2022-09-05T12:29:13+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2022-09-05</span>
      
    
  </small>
</div>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
      
        
        <a href="howitworks/" class="md-footer__link md-footer__link--next" aria-label="Next: How it works" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              How it works
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (C) 2020 BCF Developers
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["instant"], "search": "assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="js/timeago.min.js"></script>
      
        <script src="js/timeago_mkdocs_material.js"></script>
      
    
  </body>
</html>